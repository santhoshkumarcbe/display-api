<h1>User details</h1>

<table>
  <thead>
    <tr>
      <th>ID</th>
      <th>Name</th>
      <th>Username</th>
      <th>Email</th>
      <th>City</th>
      <th>Phone</th>
      <th>Website</th>
      <th>Company</th>
      <th>Edit</th>
    </tr>
  </thead>
  <tbody>
    <tr *ngFor="let user of users">
      <td>{{user.id}}</td>
      <td>{{user.name}}</td>
      <td>{{user.username}}</td>
      <td>{{user.email}}</td>
      <td>{{user.address.city}}</td>
      <td>{{user.phone}}</td>
      <td>{{user.website}}</td>
      <td>{{user.company.name}}</td>
      <td><button class="edit-button" (click)="editUserDetails(user)">edit</button></td>
    </tr>
  </tbody>
</table>

<div class="overlay" *ngIf="isUserEditFormOpen">
  <div class="dialog-box">
    <form *ngIf="data !== null && userForm !== null" [formGroup]="userForm">
      <h1>{{data.name}} Details</h1>
      <div>
        <mat-form-field appearance="fill">
          <mat-label>Email</mat-label>
          <input matInput disabled="true" matInput [value]="data.email">
        </mat-form-field>
        <br>
        <mat-form-field appearance="fill">
          <mat-label>Name</mat-label>
          <input matInput formControlName="name">
          <mat-error>Name should not be {{userForm.value.name ? userForm.value.name: 'empty'}}</mat-error>
        </mat-form-field>
        <br>
        <mat-form-field appearance="fill">
          <mat-label>Username</mat-label>
          <input matInput formControlName="username">
          <mat-error>username required</mat-error>
        </mat-form-field>
        <br>
        <mat-form-field appearance="fill">
          <mat-label>City</mat-label>
          <input matInput formControlName="city">
          <mat-error>city required</mat-error>
        </mat-form-field>
        <br>
        <mat-form-field appearance="fill">
          <mat-label>Phone</mat-label>
          <input matInput formControlName="phone">
          <mat-error>phone number required</mat-error>
        </mat-form-field>
        <br>
        <mat-form-field appearance="fill">
          <mat-label>Website</mat-label>
          <input matInput formControlName="website">
          <mat-error>website url required</mat-error>
        </mat-form-field>
        <br>
        <mat-form-field appearance="fill">
          <mat-label>Company</mat-label>
          <input matInput formControlName="company">
          <mat-error>company name required</mat-error>
        </mat-form-field>
      </div>
    </form>
    <div>
      <button class="cancel" mat-button (click)="onCancelClick()"><span
          style="color: white; background-color: red;">Cancel</span></button>
      <button class="ok" mat-button (click)="onOkClick()"><span style="color: white; ">OK</span></button>
    </div>
  </div>
</div>